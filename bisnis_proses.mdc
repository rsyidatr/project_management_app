# ðŸ“˜ Business Process Documentation â€” Project Management App (Laravel 10 (TailwindCSS) + PostgreSQL)

---

## ðŸ”„ Alur Bisnis Proses Aplikasi Project Management

### 1. Onboarding & Workspace Lifecycle
**Alur bisnis proses:**
1. User daftar â†’ sistem kirim email verifikasi.  
2. User login â†’ pilih: buat Workspace baru / bergabung dengan Workspace.  
3. Jika buat Workspace:
   - Isi nama, slug, setting awal.  
   - Sistem simpan ke DB (`workspaces` + `workspace_members`).  
4. Owner mengundang user lain (invite via email).  
5. User yang diundang join â†’ sistem atur role (Owner, Admin, Member, dll).  
6. Owner/Admin konfigurasi label, template, retention policy.  
7. Workspace siap digunakan.  

---

### 2. Pembuatan Project Lifecycle
**Alur bisnis proses:**
1. Project Manager pilih â€œCreate Projectâ€.  
2. Isi detail: key, nama, deskripsi, tanggal mulai/selesai, visibility.  
3. Sistem simpan ke DB (`projects`).  
4. Tambahkan anggota ke project â†’ sistem simpan ke DB (`project_members`).  
5. Atur workflow (status board Kanban), custom fields, labels.  
6. Definisikan milestone, epics, sprint roadmap.  
7. Project aktif & siap untuk backlog planning.  

---

### 3. Backlog & Sprint Planning
**Alur bisnis proses:**
1. Project Manager / Team Lead membuat task/epic/bug/story.  
   - Sistem simpan ke DB (`tasks`, `epics`, `sprints`).  
2. Task diberi atribut: type, priority, assignee, due date.  
3. Task bisa ditambahkan ke backlog, epic, atau sprint tertentu.  
4. Backlog grooming: tim memberi estimasi (story points, hours).  
5. Sprint planning:
   - Tentukan timeline sprint, kapasitas.  
   - Assign task ke sprint.  
6. Sprint dimulai (state: planned â†’ active).  

---

### 4. Execution (Pelaksanaan Task & Sprint)
**Alur bisnis proses:**
1. Task dikerjakan sesuai alur status board: Backlog â†’ To Do â†’ In Progress â†’ Review â†’ Done.  
2. Anggota tim:
   - Update status task â†’ sistem rekam ke `activities`.  
   - Log waktu kerja (`time_entries`).  
   - Tambah komentar/mention (`comments`).  
   - Upload attachment (`attachments`).  
3. Automasi jalan:
   - Jika status berubah â†’ kirim notifikasi ke assignee.  
   - Jika due date lewat â†’ sistem trigger reminder.  
   - Jika task selesai â†’ close checklist otomatis.  
4. Semua event disimpan ke `notifications` & `activities`.  

---

### 5. Sprint Review & Reporting
**Alur bisnis proses:**
1. Sprint mendekati akhir â†’ sistem hitung progres (burndown/burnup).  
2. Project Manager review sprint:
   - Lihat velocity chart.  
   - Analisis cycle time & lead time.  
3. Sprint ditutup â†’ state `closed`.  
4. Task yang belum selesai â†’ carry-over ke backlog/sprint berikutnya.  
5. Buat catatan retrospektif (disimpan sebagai attachment/note).  
6. Laporan sprint otomatis tersedia di dashboard (`reports`).  

---

### 6. Portfolio & Cross-Project Management
**Alur bisnis proses:**
1. Sistem kumpulkan data dari beberapa project dalam satu workspace.  
2. Portfolio dashboard menampilkan:
   - OKR alignment.  
   - Roadmap lintas project.  
   - Risiko & progress.  
3. Project Manager / Admin generate laporan â†’ sistem export ke CSV/JSON/PDF.  
4. Laporan bisa di-share via email/notifikasi ke stakeholder.  

---

### 7. Closure & Archival
**Alur bisnis proses:**
1. Project Manager menandai project sebagai selesai â†’ update status ke â€œarchivedâ€.  
2. Sistem generate laporan akhir project.  
3. Project & data terkait disimpan sesuai retention policy (`deleted_at` soft delete atau purge otomatis).  
4. Backup disimpan dengan PostgreSQL WAL archiving.  
5. Jika retention habis â†’ sistem hapus permanen.  

---

### 8. Security & Audit
**Alur bisnis proses:**
1. Setiap request ke Laravel melewati **Policy/Gate** â†’ validasi RBAC.  
2. Aksi sensitif (create/update/delete/status change) direkam di `activities`.  
3. Audit log mencatat:
   - siapa (actor_id)  
   - apa (event)  
   - kapan (created_at)  
   - dari mana (IP, user_agent).  
4. Data backup & retention job berjalan otomatis.  
5. Admin bisa meninjau log audit via dashboard.  

---

## ðŸ“‚ Struktur Folder Laravel 10 â€” Project Management App (PostgreSQL)
app/
â”œâ”€â”€ Http/
â”‚ â”œâ”€â”€ Controllers/
â”‚ â”‚ â”œâ”€â”€ Auth/ # Login, Register, Password Reset
â”‚ â”‚ â”œâ”€â”€ Workspace/ # Workspace Lifecycle
â”‚ â”‚ â”œâ”€â”€ Project/ # Project Management
â”‚ â”‚ â”œâ”€â”€ Task/ # Task, Subtask, Checklist
â”‚ â”‚ â”œâ”€â”€ Sprint/ # Sprint, Backlog Grooming
â”‚ â”‚ â”œâ”€â”€ Epic/ # Epics & Milestones
â”‚ â”‚ â”œâ”€â”€ Report/ # Reporting & Dashboards
â”‚ â”‚ â”œâ”€â”€ Collaboration/ # Comments, Mentions, Attachments
â”‚ â”‚ â”œâ”€â”€ TimeTracking/ # Timer, Timesheets
â”‚ â”‚ â”œâ”€â”€ Notification/ # Notifications, Automations
â”‚ â”‚ â”œâ”€â”€ Integration/ # API, Webhooks, Import/Export
â”‚ â”‚ â””â”€â”€ Security/ # RBAC, Audit Logs
â”‚ â”‚
â”‚ â”œâ”€â”€ Middleware/ # Middleware (RBAC, Audit, API Throttle)
â”‚ â””â”€â”€ Requests/ # Form Request Validation
â”‚
â”œâ”€â”€ Models/
â”‚ â”œâ”€â”€ User.php
â”‚ â”œâ”€â”€ Workspace.php
â”‚ â”œâ”€â”€ WorkspaceMember.php
â”‚ â”œâ”€â”€ Project.php
â”‚ â”œâ”€â”€ ProjectMember.php
â”‚ â”œâ”€â”€ Epic.php
â”‚ â”œâ”€â”€ Sprint.php
â”‚ â”œâ”€â”€ Task.php
â”‚ â”œâ”€â”€ TaskChecklist.php
â”‚ â”œâ”€â”€ TaskChecklistItem.php
â”‚ â”œâ”€â”€ TaskLink.php
â”‚ â”œâ”€â”€ Attachment.php
â”‚ â”œâ”€â”€ Comment.php
â”‚ â”œâ”€â”€ TimeEntry.php
â”‚ â”œâ”€â”€ Label.php
â”‚ â”œâ”€â”€ Notification.php
â”‚ â”œâ”€â”€ Webhook.php
â”‚ â””â”€â”€ Activity.php
â”‚
â”œâ”€â”€ Policies/ # RBAC policies
â”œâ”€â”€ Services/ # Business logic layer
â”‚ â”œâ”€â”€ AuthService.php
â”‚ â”œâ”€â”€ WorkspaceService.php
â”‚ â”œâ”€â”€ ProjectService.php
â”‚ â”œâ”€â”€ TaskService.php
â”‚ â”œâ”€â”€ SprintService.php
â”‚ â”œâ”€â”€ EpicService.php
â”‚ â”œâ”€â”€ ReportService.php
â”‚ â”œâ”€â”€ CollaborationService.php
â”‚ â”œâ”€â”€ TimeTrackingService.php
â”‚ â”œâ”€â”€ NotificationService.php
â”‚ â””â”€â”€ IntegrationService.php
â”‚
â”œâ”€â”€ Events/ # For Notifications, Activity Logs
â”œâ”€â”€ Listeners/ # Handle Events (send emails, push notif)
â”œâ”€â”€ Jobs/ # Queued Jobs (email, webhooks, exports)
â”œâ”€â”€ Observers/ # Track model changes â†’ Activity Logs
â”œâ”€â”€ Rules/ # Custom validation rules
â””â”€â”€ ViewModels/ # Data transformation for views

---

## ðŸ“‚ Views (Blade/Tailwind)
resources/views/
â”œâ”€â”€ auth/ # Login, Register, Forgot Password
â”œâ”€â”€ dashboard/ # User dashboard (workspace/project summary)
â”œâ”€â”€ workspace/ # List & Manage Workspaces
â”œâ”€â”€ project/ # Project detail (board, timeline, calendar)
â”‚ â”œâ”€â”€ boards/ # Kanban view
â”‚ â”œâ”€â”€ timeline/ # Gantt chart
â”‚ â”œâ”€â”€ calendar/ # Calendar view
â”‚ â””â”€â”€ settings/ # Workflow, labels, custom fields
â”œâ”€â”€ task/ # Task details, subtasks, checklist
â”œâ”€â”€ sprint/ # Sprint planning, backlog grooming
â”œâ”€â”€ epic/ # Epic & milestone views
â”œâ”€â”€ report/ # Reports, charts, dashboards
â”œâ”€â”€ collaboration/ # Comments, attachments
â”œâ”€â”€ timetracking/ # Timer, timesheets
â”œâ”€â”€ notification/ # Notification inbox
â”œâ”€â”€ integration/ # Import/Export, API, Webhooks
â””â”€â”€ security/ # Audit logs, role settings

---

## ðŸ§ª Testing (Pest / PHPUnit)

### Fungsi Testing
- **Menjamin kualitas kode** sebelum deploy.  
- **Mencegah bug berulang** saat refactor.  
- **Sebagai dokumentasi hidup** (contoh penggunaan sistem).  
- **Meningkatkan kecepatan development** karena developer bisa refactor dengan aman.  

### Jenis Test

1. **Unit Test**
   - Menguji 1 fungsi/service kecil.  
   - Contoh:
   ```php
   test('velocity is calculated correctly', function () {
       $service = new ReportService();
       $result = $service->calculateVelocity([10, 20, 30]);
       expect($result)->toBe(60);
   });

2. **Feature Test**
    - Menguji alur lengkap dari fitur.
    - Contoh:
    test('a user can create a task', function () {
    $user = User::factory()->create();

        $this->actingAs($user)
            ->post('/projects/1/tasks', [
                'title' => 'New Task',
                'status' => 'todo',
            ])
            ->assertStatus(201);

        expect(Task::where('title', 'New Task')->exists())->toBeTrue();
    });

3. **Integration Test**
    - Menguji integrasi antar modul (Task + Notification + Audit Log).

4. **End-to-End Test (Opsional)**
    - Menguji aplikasi seperti user asli (klik tombol, isi form, dll) pakai Laravel Dusk/Playwright.

